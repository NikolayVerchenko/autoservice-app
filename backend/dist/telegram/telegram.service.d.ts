import { OnModuleDestroy, OnModuleInit } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { Repository } from 'typeorm';
import { ClientService } from '../client/client.service';
import { DefectComplaint } from '../defect/defect-complaint.entity';
import { Defect } from '../defect/defect.entity';
import { UserService } from '../user/user.service';
import { TelegramSession } from './telegram-session.entity';
export declare class TelegramService implements OnModuleInit, OnModuleDestroy {
    private readonly clientService;
    private readonly userService;
    private readonly configService;
    private readonly sessionRepository;
    private readonly defectRepository;
    private readonly complaintRepository;
    private readonly botToken;
    private readonly logger;
    private isPolling;
    private pollingOffset;
    constructor(clientService: ClientService, userService: UserService, configService: ConfigService, sessionRepository: Repository<TelegramSession>, defectRepository: Repository<Defect>, complaintRepository: Repository<DefectComplaint>);
    onModuleInit(): Promise<void>;
    onModuleDestroy(): void;
    handleUpdate(update: any): Promise<void>;
    sendMessage(chatId: number | string, text: string, replyMarkup?: Record<string, unknown>): Promise<void>;
    private initPollingOffset;
    private runPollingLoop;
    private fetchUpdates;
    private handleClientLink;
    private handleCallbackQuery;
    private showComplaintList;
    private showComplaintCard;
    private startEnteringDiagnosis;
    private handleDiagnosisTextInput;
    private finishDiagnosis;
    private getOrCreateSession;
    private answerCallbackQuery;
    private getRoleContext;
    private sendRoleMenu;
    private handleRoleSelection;
}
